name: Phigaro Tests

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest
    container: tikhonovapolly/phigaro_test_for_git

    steps:
    - name: Test Phigaro at python3
      run: |
        conda env list
        conda activate python3
        pip install -r /home/latest_version.txt
        phigaro -f /home/test_short_seq.fasta -o output -e html txt gff bed --not-open -d
        pip uninstall phigaro 
        conda deactivate
        echo Phigaro works fine at python3
    - name: Test Phigaro at python2
      run: |
        conda activate python2
        pip install -r /home/latest_version.txt
        phigaro -f /home/test_short_seq.fasta -o output -e html txt gff bed --not-open -d
        pip uninstall phigaro 
        conda deactivate
        echo Phigaro works fine at python2
